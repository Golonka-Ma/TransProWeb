<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pl">
<head>
    <meta charset="UTF-8">
    <title>TransPro - Ładunki</title>
    <link rel="stylesheet" th:href="@{/css/output.css}">
    <!-- Czcionki i ikony -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/all.min.css}">
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-100">
<script>
    function toggleTheme() {
        const htmlElement = document.documentElement;
        htmlElement.classList.toggle('dark');

        // Sprawdzenie, czy tryb ciemny jest włączony
        const isDarkMode = htmlElement.classList.contains('dark');

        // Zaktualizowanie ikony i tekstu przełącznika
        const icon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');

        if (icon) {
            icon.classList.toggle('fa-sun', isDarkMode);
            icon.classList.toggle('fa-moon', !isDarkMode);
        }

        if (themeText) {
            themeText.textContent = isDarkMode ? 'Tryb jasny' : 'Tryb ciemny';
        }

        // Zapamiętanie ustawienia trybu w Local Storage
        localStorage.setItem('isDarkMode', isDarkMode);

        // Zaktualizowanie wyglądu SweetAlert2
        updateSwalAppearance(isDarkMode);
    }

    function updateSwalAppearance(isDarkMode) {
        Swal.mixin({
            customClass: {
                popup: isDarkMode ? 'bg-gray-800 text-gray-100' : 'bg-white text-gray-900'
            }
        });
    }

    document.addEventListener('DOMContentLoaded', () => {
        // Przywrócenie ustawienia trybu z Local Storage
        const isDarkMode = localStorage.getItem('isDarkMode') === 'true';

        if (isDarkMode) {
            document.documentElement.classList.add('dark');
        }

        // Aktualizacja ikony i tekstu po załadowaniu strony
        const icon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');

        if (icon) {
            icon.classList.toggle('fa-sun', isDarkMode);
            icon.classList.toggle('fa-moon', !isDarkMode);
        }

        if (themeText) {
            themeText.textContent = isDarkMode ? 'Tryb jasny' : 'Tryb ciemny';
        }

        // Zaktualizowanie wyglądu SweetAlert2
        updateSwalAppearance(isDarkMode);
    });
</script>
<!-- Pasek boczny -->
<div th:replace="~{fragments/sidebar :: sidebar}"></div>
<script th:src="@{/js/sidebar.js}"></script>
<!-- Główna zawartość -->
<div class="sm:ml-64 p-8">
    <!-- Nagłówek strony -->
    <header class="flex justify-between items-center mb-8">
        <h1 class="text-4xl font-bold text-gray-900 dark:text-white">Ładunki</h1>
        <!-- Przycisk do przełączania trybu -->
    </header>

    <!-- Sekcja z treścią -->
    <section class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md">
        <h2 class="text-2xl font-semibold mb-4 text-gray-900 dark:text-white">Witamy na panelu Ładunki!</h2>
        <p class="text-gray-700 dark:text-gray-300">
            Tutaj możesz zarządzać użytkownikami, przeglądać ustawienia i wykonywać inne operacje związane z Twoją aplikacją.
        </p>
    </section>

    <!-- Dodatkowe sekcje lub widgety -->

</div>

<!-- Skrypt do przełączania trybu ciemnego/jasnego -->
<script>
    function toggleTheme() {
        document.documentElement.classList.toggle('dark');
        const icon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');
        const isDarkMode = document.documentElement.classList.contains('dark');

        // Zmiana ikony i tekstu
        icon.classList.toggle('fa-sun', isDarkMode);
        icon.classList.toggle('fa-moon', !isDarkMode);
        themeText.textContent = isDarkMode ? 'Tryb jasny' : 'Tryb ciemny';
    }
</script>
</body>
</html>
